# Tổng quan #

- Việc cài đặt cấu hình đúng cho ứng dụng web là rất quan trọng trong việc giảm thiểu rủi ro 
- Khi cài đặt máy chủ ứng dụng web thường sẽ chứa nhiều chức năng ( trang thử nghiệm, tài liệu, ..) cần phải được xóa bỏ trước khi triển khai để tránh bị khai thác

$${\color{green}Mục \space tiêu \space kiểm \space tra}$$	

- Đảm bảo các tệp mặc định và các file đã biết đã được xóa
- Đảm bảo không có mã gỡ lỗi hoặc phần mở rộng nào còn sót lại
- Xem lại cơ chế ghi nhật kí

# Cách kiểm tra #

$${\color{green}Black-Box \space Testing}$$	

**1.Ví dụ, các tệp tin và thư mục đã biết**

- Cài đặt mặc định của ứng dụng hoặc trang web thường bao gồm các file mẫu, các thư mục cho mục đích kiểm thử
- Những tệp mẫu này có thể bị tấn công và cần được xóa bỏ. Ví dụ
  - CVE-1999-0449: Denial of Service ( Từ chối dịch vụ trong IIS )
  - CAN-2002-1744: Directory traversal vulnerability ( Lỗ hổng duyệt thư mục trong CodeBrws.asp trong IIS 5.0 )
  - CAN-2002-1630: Sử dujng sendmail.jsp trong Oracle 9iAS
  - CAN-2003-1172: Directory traversal ( Duyệt thư mục )
- Máy quét CGI có thể nhận biết được các file này nhưng cần xem xét lại toàn bộ nội dung để chắc chắn rằng chúng có liên quan tới ứng dụng )

**2. Bình luận đánh giá**

- các lập trình viên thường để lại bình luận ở phần HTML hoặc source code, điều này có thể làm rò rỉ những thông tin nhạy cảm
- Đánh giá lại qua phân tích nội dung tĩnh và động của máy chủ web và tìm những bình luận có trong phần HTML và source code

**3.Cấu hình hệ thống:**

- Sử dụng công cụ để kiểm tra
  - [CIS-CAT](https://learn.cisecurity.org/cis-cat-lite) 
  - [Microsoft’s Attack Surface Analyzer](https://github.com/microsoft/AttackSurfaceAnalyzer): 
  - [NIST’s National Checklist Program](https://ncp.nist.gov/repository): 

$${\color{green} Kiểm \space thử \space hộp \space xám: \space Đánh \space giá \space cấu \space hình}$$	

**1.Importance**: Proper configuration of web and application servers is crucial for security. Incorrect configurations can open up security vulnerabilities.

**2.Guidelines:**

- Enable Only Needed Modules: Activate only the necessary modules or extensions for the application to reduce the attack surface.
- Custom Error Pages: Use custom pages for server errors (like 40x, 50x) to avoid leaking information through default error messages.
- Minimize Privileges: Ensure the server software runs with minimal privileges to limit the impact of potential vulnerabilities.
- Logging: Ensure the server logs both legitimate access and errors properly.
- Handle Overloads: Configure the server to manage overloads and prevent Denial of Service (DoS) attacks.
- Secure Configuration Files: Avoid granting non-administrative identities access to critical configuration files. Encrypt sensitive information and limit access to configuration files.

$${\color{green}Logging}$$

**1. Importance**: Logging is crucial for detecting application flaws and attacks. Proper log management helps monitor and analyze issues.

**2.Key Considerations:**

- Sensitive Information: Logs should not contain sensitive data like passwords or personal information.
- Log Storage: Store logs in a separate location to prevent loss if the server is compromised and to facilitate log analysis.
- Log Rotation: Ensure logs are rotated to prevent disk space issues. Rotated logs should be compressed and permissions adjusted as needed.
- Access Control: Protect log access to prevent unauthorized viewing and ensure logs are reviewed for attack detection.

$${\color{green}Sensitive \space Information \space in \space Logs}$$

Avoid logging sensitive information such as source code, session IDs, passwords, and financial data. This helps prevent data leaks and compliance issues.

$${\color{green}Log \space Testing}$$

Verify that logs are stored and rotated properly, and assess if logging can be used to detect suspicious activities, such as error messages indicating possible attacks.

